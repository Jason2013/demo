11/28/2018 2:11:53 PM
=====================
Vulkan Device Document
Picking a physical device
queue family properties: queueFlags, queueCount, timestampValidBits, minImageTranserGranularity
VkQueueFlagBits
VK_QUEUE_GRAPHICS/COMPUTE/TRANSFER/SPARSE_BINDING/_BIT
GetPhysicalDeviceQueueFamilyProperties

* The logical device is a key object used later to direct graphics commands to the hardware

11/28/2018 2:22:00 PM
---------------------
Physical Device (1 : n) Device Queue Family (1:1) Queue Type
Physical Device (1 : n) Device Queue Family (1:n) Queue Type
* It is important to note that a queue family is not represented with a handle, but with an index instead.

11/28/2018 2:30:27 PM
---------------------
VkDeviceQueueCreateInfo
VkQueueCreateInfo

11/28/2018 2:33:56 PM
---------------------
Build OvervVulkanSamples
Severity	Code	Description	Project	File	Line	Suppression State
Error (active)	E1696	cannot open source file "stb_image.h"	23_texture_image	d:\study\OvervVulkantutorial\code\23_texture_image.cpp	9	
Error	C1083	Cannot open include file: 'stb_image.h': No such file or directory	23_texture_image	d:\study\overvvulkantutorial\code\23_texture_image.cpp	9	
Error	C1083	Cannot open include file: 'stb_image.h': No such file or directory	24_sampler	d:\study\overvvulkantutorial\code\24_sampler.cpp	9	
Error	C1083	Cannot open include file: 'stb_image.h': No such file or directory	25_texture_mapping	d:\study\overvvulkantutorial\code\25_texture_mapping.cpp	9	
Error	C1083	Cannot open include file: 'stb_image.h': No such file or directory	26_depth_buffering	d:\study\overvvulkantutorial\code\26_depth_buffering.cpp	10	
Error	C1083	Cannot open include file: 'stb_image.h': No such file or directory	28_mipmapping	d:\study\overvvulkantutorial\code\28_mipmapping.cpp	12	
Error	C1083	Cannot open include file: 'stb_image.h': No such file or directory	27_model_loading	d:\study\overvvulkantutorial\code\27_model_loading.cpp	12	
Error	C1083	Cannot open include file: 'stb_image.h': No such file or directory	29_multisampling	d:\study\overvvulkantutorial\code\29_multisampling.cpp	12	

11/28/2018 2:44:57 PM
---------------------
Try to resolve `stb_image.h` issue

11/28/2018 2:49:59 PM
---------------------
Move submodules
git submodule add --reference /d/study/vulkna/glm ./code/external/glm
cd /d/study/vulkna/glm
git remote show origin
git submodule add --reference /d/study/vulkan/glm https://github.com/g-truc/glm.git code/external/glm
https://github.com/glfw/glfw.git 
git submodule add --reference /d/study/vulkan/glfw https://github.com/glfw/glfw.git code/external/glfw

glGetError()

返回前一个 GL 操作的错误状态码。如果有一个错误，返回该错误并清除相应的位。如果有多个错误，随机返回一个错误，并清除相应位，其余错误位保持不变。
因此，如果有多个错误，应当多次调用 glGetError ，直到无错误值返回。

如果 glGetError 返回错误值，前一个 GL 操作被忽略。（除 GL_OUT_OF_MEMORY 返回值外）

如果 glGetError 自身发生错误，返回 0 。（当返回 0 时，没办法区分究竟是前一个操作正确，还是 glGetError 自身发生错误。）

glEnableVertexAttribArray
glDisableVertexAttribArray

glVertexAttriPointer(GLuint index,
    GLint size,
    GLenum type,
    GLboolean normalized,
    GLsizei stride,
    const GLvoid* offset);

normalized 如果 为 GL_FALSE ，直接使用该值；如果为 GL_TRUE ，那么将无符号整数用 UNORM 转换为 [0, 1] 的浮点数，有符号整数用 SNORM 转换为 [-1, 1] 的浮点数。
stride 如果为 0 ，等价于 size*sizeof(type) 。

glEnableVertexAttribArray 和 glBindBuffer 需要在 glVertexAttribPointer 之前调用。而前两者的调用顺序，可以调换而不影响执行结果。

OpenGL 4.3 支持 glDebugMessageCallback 函数，用于错误处理。

11/14/2018 3:25:49 PM

如下代码：

#define F(x, ...) X = x and VA_ARGS = __VA_ARGS__
#define G(...) F(__VA_ARGS__)
F(1, 2, 3)
G(1, 2, 3)

期待的两个宏展开后的输出是：X = 1 and VA_ARGS = 2, 3
GCC 的结果是我想要的，然而 MSVC 的展开是这样的：

X = 1 and VA_ARGS = 2, 3
X = 1, 2, 3 and VA_ARGS =

__VA_ARGS__ 被当作单独的参数展开，而不是被展开成多个参数。

变通的办法是：

#define EXPAND( x ) x
#define F(x, ...) X = x and VA_ARGS = __VA_ARGS__
#define G(...) EXPAND( F(__VA_ARGS__) )

宏 F() 的定义并不是这个问题的重点，它和生成的结果与预期不符无关。
这里演示了预处理器针对宏的行为。尤其是，它展示了 MSVC 在变长宏中展开 __VA_ARGS__ 成一个单一符号。变通的办法是，强制展开两次。

举例来说，在变通的定义中，预处理器首先展开

G(1, 2, 3)

为

EXPAND( F(1, 2, 3) )

在这里， 1, 2, 3 被当作单独的符号。当预处理器再次扫描其它替换时，这个符号化的办法就没有影响了，它把 1, 2, 3 当做分别的参数传递给宏 F() ，然后把展开的结果当作宏 EXPAND() 的参数，最终的结果是它自身。

__VA_ARGS__ expansion using MSVC
https://stackoverflow.com/questions/32399191/va-args-expansion-using-msvc
